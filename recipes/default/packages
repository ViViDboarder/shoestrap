#! /bin/bash

sudo_package_update
sudo_package 'tmux htop curl wget mercurial ctags tig pv jq fish mosh bash-completion doxygen'

# Manager specific packages
case "$PACKAGE_MANAGER" in
    "port")
        # Non-standard packages
        sudo_package 'the_silver_searcher md5sha1sum gradle go bash apache-ant'
        # Python packages
        sudo_package 'python27 py27-ipython py27-pip py27-six py27-tox py27-flake8 py27-virtualenv'
        sudo_package 'python36 py36-ipython py36-pip py36-six py36-tox py36-flake8 py36-virtualenv'
        sudo port select --set python python27
        sudo port select --set python2 python27
        sudo port select --set python3 python36
        sudo port select --set ipython py27-ipython
        sudo port select --set ipython2 py27-ipython
        sudo port select --set ipython3 py36-ipython
        sudo port select --set pip pip27
        sudo port select --set tox tox27
        sudo port select --set flake8 flake8-27
        sudo port select --set virtualenv virtualenv27
        # Macvim with ruby and python support
        # sudo_package 'macvim +ruby +python27'
        # Vim with ruby and python support
        sudo_package 'vim +ruby +python27'
        # Newer version of git with completion
        sudo_package 'git +bash_completion'
        # Neovim with python plugins
        sudo_package 'neovim py-neovim py27-neovim py36-neovim'
        ;;
    "apt-get")
        if [ -n "$(apt-cache policy silversearcher-ag)" ] ; then
            sudo_package 'silversearcher-ag'
        fi
        sudo_package 'build-essential vim golang-go'
        ;;
esac
